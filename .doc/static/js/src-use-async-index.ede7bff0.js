(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/useAsync/index.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var a,A=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=(n("./node_modules/antd/es/spin/style/index.js"),n("./node_modules/antd/es/spin/index.js")),l=(n("./node_modules/antd/es/button/style/index.js"),n("./node_modules/antd/es/button/index.js")),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("react"),c=n("./node_modules/@mdx-js/react/dist/esm.js"),i=n("./node_modules/docz/dist/index.esm.js"),u=(n("./node_modules/antd/es/select/style/index.js"),n("./src/useAsync/index.ts")),b=(a="Demo",{});function g(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(c.b)("wrapper",Object.assign({},b,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"useasync"},"useAsync"),Object(c.b)("p",null,"\u4e00\u4e2a\u5e2e\u4f60\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(c.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(c.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(c.b)(i.c,{__position:0,__code:"() => {\n  function getEmail(id) {\n    return fetch(`https://randomuser.me/api?id=${id}`).then(res => res.json())\n  }\n\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAsync(() => getEmail(state), [\n      state,\n    ])\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <div>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:i.c,useState:s.useState,useMemo:s.useMemo,Button:l.a,Spin:r.a,useAsync:u.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoAjLhluJ3GawsLoCD6cwwFHWaI2KQhbnuR5MgwSIKIEHAj0kWYIF-rhuAAEmALh5GKDkcAmOgIy6OxCZJ5mJ3gf84GoYG4r1ms3zNyHdbJz7mS1ajKHRxmzYsUapgAbRRMjNtHABdSaKJIrIIzCi2Xbd1jjmiVwligSgOwKJY4j0-cljRcw0L8sydL0iMCdWqmaagCMvdoDklnd3XmdLmBTZd32w7NiPqNcaAA6IqiaKjJmzfzqa8_QaP2AAH2H1j5FVrXQlRuxR_Yd2G_dsL_bn4AJ5wFvoDrl358H0jfe3vW4Z7mtWfZzGd4TGGq71xgeL45q0FUmcdrjhOZ0Om-zZjWQuCuYAa7yGhrGWsMNN5QH_uAoBO5ZBfxrFIe-qAjqX1rOxG41AcAAHEkIzE2opWAO0oKBWCpYSgMwrh9QyqhT-J8d6MDQZxPYqB7BQFiNsHa6dDpdDfugKQDDqDIJQagjizJqAsLYTtZOCIoCHSkfOPhIikFwOZvQxRTDxE7B2n3IiBAIz6UJj0dgABqfqHJDpoHIKaIinBeGSH4Uo2ht87GKKwTgwR38YHuPNrrSGZsz4CHMIwe2NF2CbhXPIXxtZJDY1hmYL8IA4DGVMkRcyelJBWVwAQLQFBgL6AYGpe0UF7bzHDHpRIAAZWwBByJEXsPEKAHgJTbBqcRUitAWlijAC0s8YBOb2Tom6RyL4VJmHIHBOAdhLD8gyP5eK_RWBZH1jTZ-KQrioFCEQQIRw_JhRGXMtgizMBwRKuwdZmyZk7L2RYfsBzaA9A8FcPOy0DGsEoPTEepzp5QEmushIVy-zzMWV7YUayNlbMmrs5y1zAV3JiEeAQ95QXnO2ewSF_pqxuzRJKIUeiHlTWeatV5XAlhHPgkirZDMVwTFsKGTeKzJqksSCpZm1K4A4EZQy-c8FmU1lZTgYFUw_KMp5RYPlcKMj3k5cckV-IaXkA8JNeVPKrbVhRGQyafdnY1hxMLEYHxyQCCmUefYEYxXTIRegD8VKCRq3NZKy51qaVdGWQUSafLhXrHkP8hKFENUEtmczHVJw9VjPFIa6ZJqzXwvvFapmfLnWt3peaPyWosg4EaiMdG5pZVsoFcq_5U8jx-oxlq0VNqBWTVTbQdNoxgYyqDaMfVYajUwEjTa8VFrY3MwgM0U1Nr5WUpPlGiVOQ_INr1Toltba5UeCWPGulBQu01kiV6swKqEb2jQLQAQyNKo6hmBTOwWqojrPiL9K4XhKDklQEqUJkh2CAHozQAZCqAFwlQA05qADRlQA5kaABkI9YgoEgFAaHoAQCyoDns-ci29jx2CADt4wAR9GABC3QAL6mABS0wA19aACXPNdzlFLzFOcIXBfkIw4FI64IK9wQioESAvf1RL0AqQjo1MhazCPFoMWvPZG6xwgd3d0MUbMAkADV4gMkYJYIm6weEFAvcIa9PKMhCAEBBs8AglM8r3q4CDlgeVyIgQRshPL06scM-sDt_8VxqvIQZmYMrC29WY7ZlcPqiImac9WVdENnLceODAZG08pQfQphpVJ5BGBinpKjSaSIGy5RClNUjOByMpEo0iWjGNoIympOF-AAWxB10wHcK4xS6CYDKZUtyfkF51zIYeq4-7D2TTXnFDkVwBPsxE1AMTEW8sBsLKgNyns2m1x9gQf2WciJB1oDlwTqBOvddy6jMQDZS3sGk8lQ08QiKHz025w-xmbOH3M316uERrOOcPizXLR49u6xcw5wjh8lCeqXRHDt7cYCdPE-aj5yEkZoGyA2P7fmAeWt065KYVBkKCo0p0kOr2IecFUjDiicPUQMljesCiPS-m6M1SuKHNAPh9DDFMIxfk-oyrQC8YnamXR-XRzAOzo5z745PoTggtPSfGIpzKzzFglC-buJjjFiOrMfbqQkRpOwnkloJ20InvQ6eZnJ_1GVMHACgdoAEzTACF0YAN9NAAWaiuHtU0O1c_0IOs2Zulek_5Wdut4TLOjhLhjaa7BEtwCWIpoUayYBjFU0px8Vn5giXLmt-OSVVmbagNYieS7Be0f-RHe7Ev6nS-2LLjj8vofm5V7zlcMHABBZoAHQV9dG6Zib015rc8EEt3ra3JPjz3Yd0zSJFgdEu4MW7j3Xu1M-9OX79gAecXtHu6H2OEeZPR9jxyePFcG5J8R_Z1PUummZ8k0zGDgAjA0ALCaZfje9ob8r2vJ3eXV5t8eezLfmYrvnyL12S_kIr4aWvkjZGKNXDSw3OXm_72ADsPQAXflABYOUACx5QAFfjAA9tUAGqIwANeVAAI20Q0AGW_QAHPN5cBsph05HBodFUFdOcL8aAZUO9tZVpu9SNPdw934o9Gclol0rtZtDRUA38ksKNG4aw1ZNhGDNMf8d5K9MDcDfJXoOca868d4iDXcoIe8o5SIJ9KCrhkYY9ug48ZUb8b5_FzBNNlClpdYPhohuZvdtkN8eDe0-DsCXo_IhD8CT9VszYxCu8JCyDe8lMZDI85CttFDZ9NCBdVCWcAloQ-8BBNCJ5lUSUYBhdF90Ckdt0wNQtn909u5mZ_ALIEt38Ut_VrD-s3ITDMxzDcCa9NDK8ABCWrL6NlE9UIXsOeAo6nPAxvGgEQvWVwEYVuDA5CJgiMZLWeMeWjWg5dXWSvCw2owVV6LIqwm-GDQAK-V30P1AAs7UN0ABh_oAwAAH0319cb4j9uc_JnQxgW0BB19IiMhoic5yAmCOiw9ijXIcAANWEZxgMojex_BIMKV_kzYYNAAgzWQMAD7owAO39AAwuXYDKPiDmMAEwlQADbzAAS6KWJWL1xvkr2qJr3YCuj2APRKPFncHKKgHqLNjhMsMmnkKIk8P4nnGsXSOZhg2WNWMcVFXP0GNpXpCPGvxdjb16Nb0PndnOIG0uKvWuJSFuIOPiCWHZNKLRP5InGQgPnWHvwyIwPnAj1iLXxXBOJYO4L1hg0ACY0wAI2tAAoOUAEJrQAB1NAA7Y0gN1gGOPx5zVz6N7UFM5MAxuJAzA0xJrEKKtIBIxNPxePvXeMAEhzPsLkgoOYjXQAMBcdTEN99KS8EyEGTLYYS7T4hQtFTUjAjoQFC3SawYNAAXt0AFLjQABfi_1HF042iOiR4uiG4eivCWSVx3Z04BTkSLirigMYyoBxTqxJSI49M5SZc2dmYTTudVdKcC970JghAxh3A_ClMnddFiCpp7D-VHD-8tih9_DHw9NshXxnCp88T3C5954F8oUNIccthdEFTEsOjP9qN0ss8T5K8rS6zbS7jXSST9jQNYyjjIzl0kzrEnSayOSXSHSLB0yMzAAeBVzJ3nzMS3aIoyLO3I8J8V3OZjUPxWVKblyJxN7IJKs1fIFz51ZOdOFKgGrMPWtO5N5KfLwtFK4kfMOIsibIsElPgtW3WyjxrhwAYsPn0KuCYv0MPk03YuG3ZWjh23cGkX22QiuBwtPW-UROvN9NvL5O-X-mXyuG4QjyO3NQsxPis0u31jpNrjuzCG23CTrk80hniRam2FcDSENmoEAl0BAgMDAi1X4FQG9EZCQHYH4B-GLGqAyHNB_DJBcrrn4FYAyHyGoH4CuH4DChwEirCjqnWH4HKEsQgC_LCrcpAE0k2jwlgGhCwG9D8qFzjkSFzDyFdVNElHNA8r-FLFiurH4GWRSv4AyUNmqosHitCNK3hAgHgBStW34FKtEFcv4AAD1KEcAAAOHADKZqmsfgCSeqkAQapMHAAAJkir6impasEE1EtEiDmuGoyjGomv4E9TXXiU8u8A-GoEgBSEstQGstyVAhAGJhAFoB9CyDCvctNFoHND6vNFmBmH4HkAUAiSAA",mdxType:"Playground"},(function(){return Object(c.b)((function(){var e=Object(s.useState)(0),t=Object(A.a)(e,2),n=t[0],a=t[1],o=Object(u.a)((function(){return fetch("https://randomuser.me/api?id=".concat(n)).then((function(e){return e.json()}))}),[n]),i=o.data,b=o.loading,g=o.cancel,d=o.run,m=Object(s.useMemo)((function(){return(((i||{}).results||[])[0]||{}).email}),[i]);return Object(c.b)("div",null,Object(c.b)(r.a,{spinning:b,mdxType:"Spin"},Object(c.b)("div",null,"id: ",n)," ",Object(c.b)("div",null,"email: ",m)),Object(c.b)(l.a.Group,{style:{marginTop:16}},Object(c.b)(l.a,{onClick:d,mdxType:"Button"},"reload"),Object(c.b)(l.a,{onClick:g,mdxType:"Button"},"cancel"),Object(c.b)(l.a,{onClick:function(){return a((function(e){return e+1}))},mdxType:"Button"},"increase id")))}),{mdxType:"Demo"})})),Object(c.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(c.b)(i.c,{__position:1,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, cancel, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <div>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:i.c,useState:s.useState,useMemo:s.useMemo,Button:l.a,Spin:r.a,useAsync:u.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoHR4ncZrCwugIPpzDAUdZojYpCFue5HkyDBIgogQcCPSRZggYoORwCY6AjLo7EJid4H_OBqGBt9GYsSGScND6KfYLVqMoOndYsUaCPQaJXCWKBKA7AoljiPT5yWNFzDQvyzJ0vSIwJ1aqZpqBgaWABtABdJZ6a1rWolQUJ4iuVEGTimPtc1tOLehIPJooqiaKjBmY_9qa_at0j2AAH0r1j5GlhXQlRuxq_YCOOVDsLw6rmvgDrnBqNcaBU7TixQ_L1xI7N9g4aLmtmdZzGR4TGGp8ZxgeL45q0FUmcdrth2Z0OgfoCuYBj6geQpA31AjqX2t2JuZlqHsKBYm2Hb3bQrbYB2qDAuCywlAZhXD6hlVCh1V5a3ZgQWakDtwP04rfNO0NYxTwzozSGMd54CHMIwI2NF2CbhXPITBtZJDY1hmYL8IA4DGVMkRcyelJBWVwAQLQFBgL6AYGpe0UEjbzHDHpRIAAZWwBByJEXsPEKAHgJTbAkcRUitAFFijAAos8YB2b2Tom6RyL4VJmHIHBOAdhLD8gyP5eK_RWBZGVjTHeKQrjxyIIEI4fkwoGKsWwWxmA4IlXYM41xk0PHOQsP2bxtAegeCuH7ZaStWCUC4MtGu8cEiTVSVATxYTrG2JRK4YUTjQguIse4rJfYcmRJiEeAQ95CnFLcewEJ_pqwWzRJKIUEZyDRKmnE1aCSuBLF8fBOprjlrRxrBMWwoZj4OMmkMxIKlGaTLgDgeZcz5zwUWRMgkOA8n2j8vMrZFhlky3MTUnIByNkLJXCcrpk0ulbJ1tWFEQDJol3GRYHEgsRgfHJAIMxR59gRhOVUjI94Pw3J2aC85wSjn4imV0exBRJonMOeseQZSEoUTeb0yxjMvknB-UY8U_zzFApBWc8FcKTmIsHrM80fktRZBwI1EY6NzTwpWXsggjyykNyPDijGHzOW7NIvsw2zLWXAzhQS0YvySUApgOSqFlL0AQoZhAZowKdldLGbrCl1T7yTVlT8oiBBFXKqmV0pYNKZkFHVRg9FKknkI3tGgWgAhkaVR1DMCmdhxlxwTlAX6VwvCUHJKgJUhDJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIR6xBQJAKA0PQAgbHBpGRkKNjx2CADt4wAR9GABC3QAL6mABS0wA19aACXPMwTzFLzACcIGYbycADvySke4IRUCJDbhjfp6AVJZ0akApxvbBVK17p411Y5C1eu6GKFmOCABq8QGSMEsETdY-8kqOPYGGiNWyMhCAECG9gZ4BB3q2ePB9lgtnOwRFABdQCtnu1_TMLZ0LT4rhecAntf6Vz8t6nOoDK4sVEUA7yjtzk13HBgMjRuUp9ZfQ0ow8gjAxT0lRpNJEDZcohSmgOnAQ6R1IgnUraCMpqREfgNhsQw9MB3CuPwugmAhGiLcn5COw8gF-quD6v1k1e5xQ5FcbdrN91QEPcRjjeLCyoDcqHPJyjNqji7l7IiJEshsZ3agZTqn2OozEA2YVZ6ChXGRlAIiw9zbuG_YBtzE5kJeZuWc0Ds9wN-dnjBkLMdEOwd7d5pQ6KHWabctC3ORFVFHrOVXXI4ZIDOnQA2ZCSM0DZHi1nKgyEphGZgKoiMYViuuXXeOCrVXk4wHVesCiGitEEFiUKlcpWaAfD6GGKYABqPyfU4VoBeAN59Lo_LNbhdg8w7zdZ9YINNob7BRv9ThRi9FgyYB3Fay0urm0Ih9oq1IhIsidjdeXb1to_XegzczFt8bK4K2AFA7QAJmmAELowAb6aAAs1FcmqprQvW_oPVs8wdPaG6KoB0riFgdHBGRWq1prsBo3AJYt6hROJgGMJ9d7HzgfmCJDktt7bnqc_EIiS14tKFbuHI75sTuReSzAS7Mi5G3ZPQzVb4OXtjbhRWwAQWaAB0Ff7QONVauh4NiHGmllnIF2tyLCOGakIsGalHGN0eY-x8-3HAT8ePoNwIR8kWycU4Phe5ztO6707DkzspWcYPs859d7YPOFfRvYIAIwNACwmpL4HMulcw_l8K45oe5f9Zg2rx11YGdt2dyd92bvpEe79jRujVwGNM56wzCtgA7D0ALvygBYOUAFjygAV-MAHtqgBqiMAGvKgAI21rYAZb9AA55vdrTUx3aODK_ch7a2w80DhVr1HU0oJ6_YA55K4w0TdHtwt0cC8wCoAjFnoKcB0E1hlpsVf4988jxB_LZCvfMwvT8vzofBBId31HzrifA6sfHGtlbqnhoafz45PFmOGutaLef6RHCunLrB8NEJzDjm4rzoflqj3gPr5K9JftHtft7jHHfkrLro_vrneq_o5u_i5p_t_lrL_ozP_hAUAUtI8vtodsnl3pwIWsWgRmnldtziuP4BZNRoOhvrihHglt3ifnARfgPsruQUfgAITiZfQrKBq9gtyiGTaD5IE35pyuAjCDx8Gr40YRh0bdyM5f7kHEGcBaqIHPblavSwFlZKExwVqABXyimqmoAFnagOgAMP-l6AAA-smv9lPLLiYeksboqmbiXO6hkAwT7OQGvpwcOuTnsL6pITgLmq_DOAWh6sWiEHYIEhkMzmnBWoAEGabegAfdGAB2_oAGFy7A0hUAThgAmEqAAbeYACXRbhHhf2U8R-8hyu7AV00Rfqos7gQalhacLRV-k0tuMA5B2s0I-BKBWsFa7hnhs8iu1Syu0y9IR4ceacBhv-sWDMocEhrkcR4aCRKQSRwR8QSw2xWmXR8cxxPmqAk81YmRLu84lOTBXON2K44RtGXBB-kxMagATGmABG1oAFBygAhNaAAOpoAHbGNeK2QhAxr2IhWqpxKy8R-a9B8QvRjMYh8J5xPRExjMORbegAkOZ9h7EFBOEfaABgLkCbWkHrMTWOBisT_k0ciVAARm8XRoQaMfOLTjwRYBWoAC9ugApcaAAL8dmtSe7G8VoRvjoW3GyahMQt5qHO7CcTETsYiYkYyTcRYHcSdl-vOE8RnstnzlCUgZtkLu9jGhMEIGMO4NCKbkjl1mPhgbslgYbs6ATqbo-NqbAJblPpTrgUMXTpQboWUu1polsF1q8evsOjnmOoxlAVrEfhiSqQcYyaiTWEEUWvEMydKWhByd0OiUqWcWUSmdyTGvyYADwKwpI8opmh2hLcUp-hoSf-S-OCPSnxMcxhG2MJU8tJWZO2cpGJZRipnRiZhx6ZUAbsyESwaZIRFk6p08fKTZ5g9mPpM-umf40-KQ3mEBVwq5_cpu3m4825Sif4483mHp3mAGHRsRZRbR10CZRJqpyRvY_0ruVwXQZ63mIGEx4G3mTM7GR4P5fYYQrmspTqqGqA1CLU2wrgaQqs1AgEugIEBgYE4y_AqA3ojISA7A_APwxY1QGQ5oP4ZIGFw8_ArAGQ-Q1A_AVw_AYUOAtFYUdU6w_A5Q5A_Q-ZVFWFIAmkm0eEsA0IWA3oRFGGZIlAiQuYeQyKpoko5oOFfwpYjF1Y_A9iHF_ALCqsClFgzFB2_G8IEA8AHFwq_AUlogmF_AAAeqAjgAABw4AZQaU1j8ASQqUgBmVJg4AABMtFfU9lmlggmolokQzlFlGU1ltl_A6KHa1CuF3gHw1AkAKQsF4F2gCFXCyF_AtAPoWQVF2FpotA5oxl5oswMw_A8gCgJCQAA",mdxType:"Playground"},(function(){return Object(c.b)((function(){var e=Object(u.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0}),t=e.data,n=e.loading,a=(e.cancel,e.run),A=Object(s.useMemo)((function(){return(((t||{}).results||[])[0]||{}).email}),[t]);return Object(c.b)("div",null,Object(c.b)(r.a,{spinning:n,mdxType:"Spin"},"email: ",A),Object(c.b)(l.a,{onClick:a,style:{marginTop:16},mdxType:"Button"},"fetch"))}),{mdxType:"Demo"})})),Object(c.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(c.b)(i.c,{__position:2,__code:"() => {\n  function getEmail() {\n    return fetch(`https://randomuser.me/api`).then(res => res.json())\n  }\n\n  function Demo() {\n    const { data, loading, timer, run } = useAsync(() => getEmail(), [], {\n      manual: true,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n\n    return (\n      <div>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>start polling</Button>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:n,Playground:i.c,useState:s.useState,useMemo:s.useMemo,Button:l.a,Spin:r.a,useAsync:u.a},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEE4ESVByAE90ZIEchJAo7TdJM1RsFE9TA0lAzGMVME9OoFFjlOLCSKU-B2G4Vj1iiARnlQK52gABnYJMZiwdo92rGYOxYGdQoAFmi9gADZoti9YwGAgAxb1oESUL-GcQ4EQdTAYKEfglho1BKDgBKERy6s8poZwICwy52AARhSuL5Gc3Q3M0uZfPYCMoPIGwoHQMNUI5XyxCm6MZHYFFvO4YBsK8rF5C3GtgFm6AFuCAAyC7xkSeZKGaU75sW7gXrlMBkMlAZUHadgAH4NjOsMI2Wq5HvO1BhurKQZCrN8zBhdTMDAMIoCmYGVrWqHxuXasLGAdHuFW4AVwsd69O7cxTzPKJoHR4ncZrCwugIPpzDAUdZojYpCFue5HkyDBIgogQcCPSRZggYoORwCY6AjLo7EJid4H_OBqGBt9GYsSGScND6KfYLVqMoOndYsUaCPQaJXCWKBKA7AolhiI8BCWNFzDQvyzJ0vSIwJ1aqZpqBgaWABtABdJZ6a1rWolQUJ4iuVEGTimPGcFBICgaPQBFYRPIrCwvU7T-RNbTi3oSDyaKKomiowZmP_amv2rdI9gAB929Y0vQ3gUJUbsTv2AjjlQ7C8OO674Ae-o1xoGLtPh9b1xI7N9g4YbmtmdZzHF4TGG18ZxgeL45q0FUmcdrth2Z0O2foCuYB76geQpBP1Ajr32t2JuagcAAcSQjMTailYA7SgoFYKlhKAzCuH1DKqFDqHy1owH-nE9ioHsFAWI2wdru0OiiVw9oM7YJnFINB1BP5f2_hxZk1AsE4J2s7DIOAEoUUOmwoi5DaEf2QUfCh5h6HYJ2Ew_kLCUQwIIREGY3Df68M3ovVBPCMEMJEcAZhIsFahCPIdLRR5ZGcSoYoyQAiAFAKMSgncsg15l0ZpDGO28BDmEYEbGi7BNwrnkPY2skhsawzMF-EAcBjKmSIuZPSkgrK4AIFoCgwF9AMDUvaKCRt5jhj0okAAMrYAg5EiL2HiFADwEpth5OIqRWgZSxRgDKWeMA7N7J0TdI5F8KkzDkDgnAOwlgxFHGjn2foedaDKxphfFIVx45EECEcPyYU2nxUGVkY4854ITO0dMyacznIWH7GwJZ5APBXD9stJWrBKBcGWl3eOCRJrXKgPMnZizhmEOFGsqZGRNkPIGXs4ZGj7xvI2bMr5Fs0SSiFBGA5RyTmrTOVwJYmA4IlXYJM6Zy1-kWAmLYXuoyCiTQRfBFSjNMVwBwPi5IfkyWEprMSnALypgUpWYkKlGKCQy16fePFjLmX4ixQcyaByqU62rBI4Bfkm7orzKoUYHxyQCB6UefYEYaV_PQB-Fcyr2U5CBeq1lXQcUzkmjSyl6x5BfM4d0MV0L_IMxxILEYMrxRyrEYqjVLt7xqoZjSvVc8xnsHNH5LUWQcCNRGOjc0PKSV0sFV8vRFqppWolTSulk1A20GDaMYG3LbUnHtR0x18qYAutZSqj1jMIDNCVayg5aLdauoyByvy2bpVEQIAWotvKPBO11ffMZpaazeNNWYIVCN7RoFoAIZGlUdQzApnYfpccE5QF-lcLwlBySoCVO4yQ7BAD0ZoAMhVAC4SoAac1ABoyoAcyNAAyEesEhWcc55yXQCjIm7HjsEAHbxgAj6MACFugAX1MAClpgBr60AEueQ7nKKXmMi4Qoqpo4Bg0QlI9wQioESCPDGsL0AqQro1GBEzIOTXFYO_0zosBiTHRkSd3QxQsycQANXiAyRglgibrGvklcZ7BV3rqpRkIQAhl3sDPAIHjVLl58csFSuIel5w4ZgVS920mZhUo0Y_FcIr5PctjWplc5rNPVgI8O4jiMYDI37lKfWX0NLhPIIwMU9JUaTSRA2XKIVoOwaCghpEKGlbQRlNSazfdUZiGLpgO4VxUl0EwBk7Jbk_IR2LjA2dVxp2zsmtPOKHIriUdZrRqA9GbMmaY9WCuodCGVM2qOCeXsiIkSyH5qjqBsu5f8wQMQDYJUsYKFcZGUAiIL1WJJqA8netyYgzA3rSnrUx1UyNmYvWmZ9yPIN3W2npu9aUCavtFcNHVyItUhjvSO65HDJAZ06AGzISRmgbIG3XJTCoMhelGlqkRjCtd1Abk0DjkqzAJ7ycYAevWBROpDSCDHIxhKu7NAPh9DDFMAA1H5Pq3KPsECh4Jl0flfvqdHDvcVusIco96GjzM8P-rcoI9reFMA7j_cKzdkBMDtswAKQkYpOxQdK3B20SHhOYfsBJ4jlcL7ACgdoAEzTACF0YAN9NAAWaiuctU0NGo5hzWzeCuefHhFZmzxKnRwRkVqtaa7AYO0qWNxoUEyYBjAEzxx8Ir5giQ5Lbe2rHOvxCIktPtShh7hxp-bOn5rGfM6KSU9nBXGb48Vy6fn3KX2ACCzQAOgqS5lwzOXSrekR5oMrmOqvofHnNZrhm3iLAtt1xjA3Ru4Am8E2b5FFv-NV4EI-c19vHc3zY11t3pcPdh298CunsaA-FNZ9sEPE2awvsAEYGgBYTUT7Lit2eicEEz1refMPe70iPPnuxJru8-8LG9qY7sB8s-DxGI3cH3NIc86Hsf27AB2HoAXflACwcoALHlAAr8YAPbVADVEYANeVAARtp-wAZb9AAc8xXArndkcHu35S5wJxzxoG5WLz1ymignLxb2d3GDRG6E7yxzq0NFQFP1c3g1sRrBlk2DwOXjBzXhT3AOgN8lenDzVwz1H0XgQNL2QJgwr2OGtlQI60NFd0wI5D7RjkLy1kcXMGXm5W1iIIsA-GiE5lNxmWvxjioOQggMzBej8noNgMXyYLThYKVjL3YMrx424OSl4O634MEK1mEMZlEOhHrwkKWkFUp2p173304DvXiEsyPyDzZxXH8AshcxwHPwTTxz7xUJoI0OgPTwIAcJTwAEJ4svoSUF1ewh44jkdoil8Y5XARg54D9kJ8CcAIxz9J4vcBCHDrDOAK1NCF9aC_JqD7ssitYX1AAr5WPRPUACztaXQAGH_H9AAAfSPUlzXhX3RxrzGALQbyblI1zk8J9nIEKOCKWESNclYTXVIRSGznHXvRCDsBRQyF3xjhfUACDNIAwAPujAA7f0ADC5dgFIqAbowATCVAANvMABLo_owYiXSgitDIhgqYK6PYGdJI0WdwRdJopQ1SGA2ovydvGABw7WaEcwnQw47dAYoYhRalNPH4tfbRGATfEuXWYQtbBmUOZYt7VYzOGcTYjIe9JYgElY24t2ZCVeasXfMA-cJ3bwofeuRmBYtzEIzeF9QAJjTAAja0ACg5QAQmtAAHU0ADtjD_UI-7aIvnBHWIitEkklG9CkjwqAUEmseI1UoE-OeIbUxmY4oAwASHM-w1iChuihdAAwF3FM_RnzRKL2kVxKEMoM1Msx5MIIqPhLdwlWNO3UABe3QAUuNAAF-KvTRPdkKOKLc1KJHksO1k8V61DndhpNnTJPWMpJmKgCZIsBZLpwkwRCgA5JPz5LDyiJ-MVNJ0F23QmCEDGHcDsJ421xB0QIMONybOr2dEt3r0fELPnGyFfBMLbz4PdycLKK-UB3qS2BBxXC9Iv2Q29woM3hTz1PVI2M1KNPcK2NmIsldP7V9O6F1NpNJNuK3JfRDMAB4FCMxeKMo3GM-DOM73BM1CbZEQ7HJxeNZcxeGo3nKPNeDXF88nftZMvU-k_49M9crM6kicZCJYaY-9SzXM9eGND88wNrJ3HgkrP8drGcXreQq4bCnAeQ3rZeQiipP8ZeXrfsqAIbZCK4MC4E3sP4tcy0jUnc4s_6fvK4LoFjMbXpZTTeEVWbZWdfGAES81VbYuPTAJJQEAFqbYVwNIVWagQCXQECAwMCfpfgVAb0RkJAdgfgH4YsaoDIc0H8MkfS4ufgVgDIfIagfgK4fgMKHAFysKOqdYfgcocgfoE8xywykATSTaPCWAaELAb0Sy5ZMkSgRIXMPIXFU0SUc0Yyv4UsDy6sfgUZfy_gKJVWdKiwLyqncLeECAeAfyiVfgRK0QAy_gAAPXgRwAAA4cAMp8qax-AJJsqQBaqkwcAAAmFyvqNqgqwQTUS0SILq-qjKJqlq_gE1IdQJEy7wD4agSAFIFS1ANS-JUCEAYmEAWgH0LIRyoy00Wgc0Kq80WYGYfgeQBQLxIAA",mdxType:"Playground"},(function(){return Object(c.b)((function(){var e=Object(u.a)((function(){return fetch("https://randomuser.me/api").then((function(e){return e.json()}))}),[],{manual:!0,pollingInterval:3e3}),t=e.data,n=e.loading,a=e.timer,A=e.run,o=Object(s.useMemo)((function(){return(((t||{}).results||[])[0]||{}).email}),[t]);return Object(c.b)("div",null,Object(c.b)(r.a,{spinning:n,mdxType:"Spin"},"email: ",o),Object(c.b)(l.a.Group,{style:{marginTop:16}},Object(c.b)(l.a,{onClick:A,mdxType:"Button"},"start polling"),Object(c.b)(l.a,{onClick:a.pause,mdxType:"Button"},"pause"),Object(c.b)(l.a,{onClick:a.stop,mdxType:"Button"},"stop"),Object(c.b)(l.a,{onClick:a.resume,mdxType:"Button"},"resume")))}),{mdxType:"Demo"})})),Object(c.b)("h2",{id:"api"},"API"),Object(c.b)("pre",null,Object(c.b)("code",Object.assign({parentName:"pre"},{}),"const {\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAsync(params);\n\nparams:(\n  service: (...args: Args | any) => Promise<Result>,\n  deps: DependencyList = [],\n  options: {\n    manual?: boolean; // \u662f\u5426\u521d\u59cb\u5316\u6267\u884c\n    pollingInterval?: number; // \u8f6e\u8be2\u7684\u95f4\u9694\u6beb\u79d2\n  }\n)\n")),Object(c.b)("h3",{id:"\u7ed3\u679c"},"\u7ed3\u679c"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"loading"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u6b63\u5728\u52a0\u8f7d"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"error"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u9519\u8bef\u6570\u636e"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"Errow"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"data"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8bf7\u6c42\u6210\u529f\u6570\u636e"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"(value: any) => void"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"cancel"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53d6\u6d88"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"run"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u6267\u884c"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.stop"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u53d6\u6d88"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.resume"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u6682\u505c"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"timer.pause"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u7ee7\u7eed"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"() => void;"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(c.b)("h3",{id:"\u53c2\u6570"},"\u53c2\u6570"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null})))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"service"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u5f02\u6b65\u8bf7\u6c42\u51fd\u6570"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"(...args: Args"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"any)=> Promise"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"deps"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u4f9d\u8d56\u6570\u7ec4"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"any[]"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"[]"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"options"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u53ef\u9009\u914d\u7f6e\u9879\uff0c\u89c1 Options"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}))))),Object(c.b)("h3",{id:"options"},"Options"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(c.b)("th",Object.assign({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"manual"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u662f\u5426\u9700\u8981\u624b\u52a8\u89e6\u53d1"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"boolean"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"false")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"pollingInterval"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"\u8f6e\u8be2\u95f4\u9694\u6beb\u79d2\uff0c\u53ea\u6709\u8bbe\u7f6e\u4e86 pollingInterval\uff0c\u624d\u4f1a\u5f00\u542f\u8f6e\u8be2"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"number"),Object(c.b)("td",Object.assign({parentName:"tr"},{align:null}),"-")))))}g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAsync/index.mdx"}}),g.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),A=n.n(a),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("react"),u=function e(t,n){var a=this;Object(c.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(a.timerId),a.timerId=0,a.remaining=a.delay},this.pause=function(){window.clearTimeout(a.timerId),a.remaining-=Date.now()-a.start},this.resume=function(){a.start=Date.now(),window.clearTimeout(a.timerId),a.cb&&(a.timerId=window.setTimeout(a.cb,a.remaining))},this.remaining=n,this.delay=n,this.start=n,this.timerId=n,this.cb=t};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var b=function(){};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(i.useState)({loading:!1,cancel:b,run:b,timer:{stop:b,resume:b,pause:b}}),c=Object(s.a)(a,2),g=c[0],d=c[1],m=Object(i.useRef)(void 0),j=Object(i.useRef)(0),O=Object(i.useRef)(!0);Object(i.useEffect)((function(){return j.current+=1,O.current=!0,function(){j.current+=1}}),t);var p=Object(i.useCallback)((function(){j.current+=1,m.current&&m.current.stop(),d((function(e){return Object(o.a)({},e,{error:new Error("stopped"),loading:!1})}))}),[]),B=Object(i.useCallback)((function(){j.current+=1,m.current&&m.current.pause(),d((function(e){return Object(o.a)({},e,{error:new Error("paused"),loading:!1})}))}),[]),I=Object(i.useCallback)((function(){m.current&&m.current.resume()}),[]),E=Object(i.useCallback)((function(){var t=j.current;return d((function(e){return Object(o.a)({},e,{loading:!0})})),e.apply(void 0,arguments).then((function(e){return t===j.current&&d((function(t){return Object(o.a)({},t,{data:e,loading:!1})})),e})).catch((function(e){return t===j.current&&d((function(t){return Object(o.a)({},t,{error:e,loading:!1})})),e}))}),t),C=Object(i.useCallback)(Object(l.a)(A.a.mark((function e(){var t,a,l,o,s=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,a=new Array(t),l=0;l<t;l++)a[l]=s[l];if(o=j.current,n.manual&&O.current){e.next=5;break}return e.next=5,E.apply(void 0,Object(r.a)(a||[]));case 5:j.current===o&&(m.current=new u((function(){return C.apply(void 0,a)}),n.pollingInterval),O.current&&n.manual?O.current=!1:m.current.resume());case 6:case"end":return e.stop()}}),e)}))),[n.pollingInterval,n.manual,E]),y=Object(i.useCallback)((function(){j.current+=1;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n.pollingInterval?(n.manual||p(),C.apply(void 0,t)):E.apply(void 0,Object(r.a)(t||[]))}),[E,n.pollingInterval]),h=Object(i.useCallback)((function(){j.current+=1,d((function(e){return Object(o.a)({},e,{error:new Error("canceled"),loading:!1})}))}),[]);return Object(i.useEffect)((function(){if(n.pollingInterval)C();else if(!n.manual){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];E.apply(void 0,Object(r.a)(t||[]))}return function(){j.current+=1,p()}}),[n.manual,n.pollingInterval,E,C]),{loading:g.loading,error:g.error,data:g.data,cancel:h,run:n.manual&&n.pollingInterval?I:y,timer:{stop:p,resume:I,pause:B}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);