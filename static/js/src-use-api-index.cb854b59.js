(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/useAPI/index.mdx":function(e,n,A){"use strict";A.r(n),A.d(n,"default",(function(){return E}));var t=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=(A("./node_modules/antd/es/spin/style/index.js"),A("./node_modules/antd/es/spin/index.js")),a=(A("./node_modules/antd/es/button/style/index.js"),A("./node_modules/antd/es/button/index.js")),r=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=A("react"),s=A("./node_modules/@mdx-js/react/dist/esm.js"),u=A("./node_modules/docz/dist/index.esm.js"),c=(A("./node_modules/antd/es/select/style/index.js"),A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js")),l=A.n(c),g=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),m=A("./node_modules/umi-request/dist/index.es.js"),d=A("./src/useAsync/index.ts"),B=function(e){return Object(d.a)(Object(g.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,A){Object(m.a)(e.url,e.options).then(function(){var e=Object(g.a)(l.a.mark((function e(A){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(A);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){A(e)}))})));case 1:case"end":return n.stop()}}),n)}))),[JSON.stringify(e)],{manual:e.manual,pollingInterval:e.pollingInterval})},p=B;B&&B===Object(B)&&Object.isExtensible(B)&&Object.defineProperty(B,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAPI",filename:"src/useAPI/index.ts"}});j="Demo";var j,C={};function E(e){var n=e.components,A=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object.assign({},C,A,{components:n,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"useapi"},"useAPI"),Object(s.b)("p",null,"\u4e00\u4e2a\u5185\u7f6e ",Object(s.b)("inlineCode",{parentName:"p"},"umi-request"),"\uff0c\u5e2e\u4f60\u7ba1\u7406\u7f51\u7edc\u8bf7\u6c42\u7684 Hook\uff0c\u652f\u6301\u7acb\u5373\u6267\u884c\uff0c\u624b\u52a8\u89e6\u53d1\u6267\u884c\uff0c\u8f6e\u8be2\u3002"),Object(s.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(s.b)("h3",{id:"\u7acb\u5373\u6267\u884c"},"\u7acb\u5373\u6267\u884c"),Object(s.b)(u.c,{__position:0,__code:"() => {\n  function Demo() {\n    const [state, set] = useState(0)\n    const { data, loading, cancel, run } = useAPI({\n      url: `https://randomuser.me/api?id=${state}`,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <div>\n        <Spin spinning={loading}>\n          <div>id: {state}</div> <div>email: {email}</div>\n        </Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={run}>reload</Button>\n          <Button onClick={cancel}>cancel</Button>\n          <Button onClick={() => set(c => c + 1)}>increase id</Button>\n        </Button.Group>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:u.c,useState:i.useState,useMemo:i.useMemo,Button:a.a,Spin:o.a,useAPI:p},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhvYABtFEyPW0cAF1xookisgjEK3zpumGag9BolcJYoEoDsCiWOInPnJY0XMNCfJMnTJqJwW-igK5ikIW57keTIMEiCiBBwI9JFmCBvq4bgABJgBZ2h5GKGLBZreQBY9wtUBc6jXGgLmiKomio1pj28eWiMY9F0j2AAHwT1ivdDeBQmRuwk6Z9mOUZkLOez4BU4D6B3Z9ixGbj1x2fLj3vY9roCD6cxw4rhMoc1j3GB4vjGrQVSZy2yXpZnfau59mNZC4K4ndIl3IdjWsodLnXWNX-RF9kCe6akXvUAO9va3Ym5qBwABxJCZnWxTYC2qD_MCyxKBmK4erS1Dx4j9vGBPzi9lQPYKAsRthbSVvtLoI90BSD_tQQ-R9j4cWZNQIBICtpywRFAfaGD5wwKQQfHegtf74IAagnYW0o5swIBGcgaNaEAGpeocn2mgcgpoiKcGgZIWBBDv7d24fgi-V94H8M7nw9gDdPaaybi3WsFMaLsE3CueQ4NtyY2hmYL8IA4CGWMkRUy5lwy4AIFoCgwF9AMDUvaLoABHBkLl6JylCEQCA5pbH2JfCpKxUwTJwESE5OyOAPS-P8eQP0fI9ACERuVBo0EBx2BphYbWVwUTThSCpCwL8yZwG-lcMUdj4AEAaKpAgGT2BRFQKEeIuT2BeEoOSVAZTBQJAKMU2gAhWDVKuJUoggQBAqXBmYBmatdI-QjFkq4sT4mLXxusEJTk241n8KEiaMyRHsGdGMOJkRqQxy6HAeprAYCKxgOoLYBA1m-XEe4wp4yZgEBwNrJYWScBZI-nASRHscATDoBGZZAT9lo0SQg_ZhyYARn2R-QhXtCEfGiNNCM3R8ZXIQROU55zEVQvERYL2ZS6ZezrkzAAUs4HUAA5HAqSCgQDAIkO5Fza4rmBXTCpVS14vNZfEQlFhmnAJnG0jInT2X3JwLy1pkShWEqUOsLFsMsBiQRkjHx-idIqS0Tooy8yjIWWMaYoCehQLgTElBCm8xwxOUSAAGVsAQciRF7DxCgB4CU2w7XEXnscjSYowBurPGAMA5z-KOPsp4oacE4B2EsPyDIKK-z9E6bQNFUQ0AFG6c4vp40QoqXWP2NgWRjjzngmm3pMafJZscjy-N-byAeCuDHS5rBKBcEWsnSpCRxptqgNm2KVbE0s2FMWjNZbu2VrzYmmIR4BD3kHaW9g5b_TVmGmiSUQoaG1tWWjRtXAliYDgkVDZ6aMiLWZfiWwadk2D1nD5Xd8E8WnrgDgG9yRr2FsSHeiYZ7-1TBfXu99BJvnRqnTkH9t6VwfofTW8aNaymDOrCiF-41KEnpxCbEYHxyQCCjUefYEZwMAcnfeLFdM8MToyPeTNf6z1dAvQUcaeGn0wZHX2MIHCxmXOQ6oUY6HxSYejThkjgHCOUYfdRwOl72Dmh8lqLIOB6ojFRuae9lLSLCkYxWtF9IjyIfY2B_9X7xrSdoLJ0YgM70oZOGh8gGGsMwH4_-0jQGiM1hpRNPDNbj2awEwR4DeZONoaIgQGzdmz01qWHh0TKaZxOZxeseQAzHJw3tGgdp0Tug6nue82NnKoA1LqQ0pUijJDsEAPRmgAyFUALhKgBpzUAGjKgBzI0ADIROb6l8pSAKjpXSD0lv6YV9ggA7eMAEfRgAQt0AC-pgAUtMANfWgAlzzMLBxS8wNnCGvmMoJOBXABXuCEVAiRGa503U29AKkGb1Rft0xb2mgVxYS_K9SyWMipfYGKZuAhUAADV4gMkYJYAm6woGptqcIfL6wMhCAEDUs8AgQdlOrjUywZScFr2OzMMpStTsvzKQ52eK54OvwW2jlc-znHdUR3euKFFUdI9i_FhdiWpiKozlKN6ZMNKaT8U5RgYp6TI3GkiBs2UgoTRW2tlIG2kQ7cudslxRF2fp2RmIcumA7hXFNXQTAFrrUuR8jt8ubzqAbfS9k8axcYocjyaOFub2oAfY5_T77i7ddTGZh6pYAXOaqyIjzWg0unuvfezAaXnOCBiAbCe37iVDTxCIoS-H5PCUo9xzMQlGPY102xzH6R6cjxp-_qToiWf8Xl1xesBmDng4wG9Z9wDidcjhkgM6dADZkIIzQNkJzDMqDIW_V6mAYA-at_t5wEppfvW4bRDAWV1YKJ-oDZKetQKVzt5oB8PoYYpj0J8j1O9KaHm9Ahy6HyqIGR3pkc9jdyKT30zaIvnfK_2Br96ney71YlAFruOPi_fspjY9Lw6hIzqdiz7P3n0v232XxdDvw3xXEeHYEAFA7QAEzTABC6MADfTQACzUVwXNcNAMl9d8aAPNv4HMsCV9lMX5TNlEsdRwIw7BkVJp2AVs4AlhgchRukYAxhwcQdHxsd5gRIOQJYpYEoUgrhEYoAOEvYnNn8xcmMGYc8kUNIf8nUXUADbchZgCCCwD1870oDAAgs0AB0FJA1A2mdA_A6_fQXAj2Qw0AxfKQkg2mVRGsALCgtGag2g-giHRgjZZg9gVg1ddoKQrgng0efg8PIQ7oEQmDJYcQ9TBmAnLTN3GAWQv_bYBQ5PHrQAIwNABYTV0LQOaAwMnRUJwKSIsDMOwIeSiPBWi1QlizCNzgkP7yVm_0dXiJjkF3WyuFF120ANpigMADsPQAXflABYOUACx5QAFfjAA9tUAGqIwANeVAAI20G0AGW_QAHPMgCP8JxkJHAO8oNlCjCaA707DKDo4oInD2BQ8AiD9giOQyjj9zAwBUAIwmjhdPkaCflrjq459xF0ClZVjMwnofIF8QCiiTD24diHD9igk6DjgxY_C-CBCI9Tiyj8UJ4LiwTSI70cV7i4UCAEUGCjh2iK43iVjgDvJnofjciLl8jBZASqDgTKVnCQcIS_tBDhCzjkSpFrkzcT9MSmTC8n8d0YBX9qiljbt2soAWcVkYi4j5CVx_laEbigkhcPkXiPZIi8S1jviNjzDSlNZ0CABCHXP2C2dwNlROZOTUrfYk_4j2VwEYQOKYJWaUnAP5dbQ0nORkzWGwumdAokzY79Z6d44As0wWKAwAK-UqtqtAAs7RQMABh_3owAAH1KskCJ5Cib8fJNkrBANEiBShVhSFlbiPlnkMtddRVmtxV2khUQg7Aek-k38fYoDAAgzTmMAD7owAO39AAwuXKX1PiHDMAEwlQADbzAAS6OjNjMQInnQJNM9PYAuj2DzN1Oyz9I9hHLVPGnpJgCZJxWhCCNJLpigJjLjOxXGEwM9LTk01KOXPKO_ldNQkJUZh1IfTFX5QlS5QnOyT1MqXvKVkZWrErMiPnF4LqN_3FNpltNlJ02_igMACY0wAI2tAAoOUAEJrQAB1NAA7YxGM1g9PnPAKZPQKvILJaVvOLPiBnOcyyO1MnIfWnPXJrBrLmMAEhzPsQsmccM6AwAMBdoLBsMidzscrCK4zy3S7yhTWdyAAL1tYT-J5wOFz8yKitAAXt0AFLjQABfjGtrlkJbT7ThdHSxdBKzzpVaZGYlZczHybzWtuK3yLAPz-94cfy5D_8kMgCO9iTb81DICisJghAxh3BoQXCBAyDqFdiJpKTQTMSmCWC3LHx4dshXxaSw9FyFpRDKjKzJ9_UMUVx-LhcWitsxd5TBZ0KiLMKWs2shU8KLB0z4hMy-K1LVyOEtSMKSLRKLAoCpLAAeBTkorhtJWyUqzmTlUo5PUzpgRMsvEWQqKNsvvwnjYrUofwvIqrbKgB0veSyqLMFRfOQiWAKp4tCUMokSYwRJD14L-2dj_COMJT8pvhk0xMJWrhSQ9UfXBPn3cEwVj2QiuHGufKgDHMugwr0pyt7F-hKPYCuEgV4MT0A0x2_mx25Q00JxBqkKlQLypy0Sam2FcDSH_AOVQEAl0BAgMDAmBX4FQG9EZCQHYH4B-GLGqAyHNB_DJFxvLn4COQEHyGoH4CuH4BChwCZpChqnWH4HKDYQgEnPpvxpAE0nWjwlgGhCwG9HJpf0lkSFzDyFo1NElHNEJr-FLDZurH4AvV5v4B1URpVosA5p5JV3hAgHgF5pPX4DltEDxv4AAD134cAAAOHANKHWmsfgCSDWkAK2pMHAAAJiZp6mdt1pAGcVcRuRRHdptuZvtoDr5vNstEiHDttodqdpAFixm3VSVtwF0EgBSERuoBRvMUNUJhAFoB9CyHpoJtNFoDcU1HNFmBmH4HkAUBUSAA",mdxType:"Playground"},(function(){return Object(s.b)((function(){var e=Object(i.useState)(0),n=Object(t.a)(e,2),A=n[0],r=n[1],u=p({url:"https://randomuser.me/api?id=".concat(A)}),c=u.data,l=u.loading,g=u.cancel,m=u.run,d=Object(i.useMemo)((function(){return(((c||{}).results||[])[0]||{}).email}),[c]);return Object(s.b)("div",null,Object(s.b)(o.a,{spinning:l,mdxType:"Spin"},Object(s.b)("div",null,"id: ",A)," ",Object(s.b)("div",null,"email: ",d)),Object(s.b)(a.a.Group,{style:{marginTop:16}},Object(s.b)(a.a,{onClick:m,mdxType:"Button"},"reload"),Object(s.b)(a.a,{onClick:g,mdxType:"Button"},"cancel"),Object(s.b)(a.a,{onClick:function(){return r((function(e){return e+1}))},mdxType:"Button"},"increase id")))}),{mdxType:"Demo"})})),Object(s.b)("h3",{id:"\u624b\u52a8\u89e6\u53d1\u6267\u884c"},"\u624b\u52a8\u89e6\u53d1\u6267\u884c"),Object(s.b)(u.c,{__position:1,__code:"() => {\n  function Demo() {\n    const { data, loading, cancel, run } = useAPI({\n      url: `https://randomuser.me/api`,\n      manual: true,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <div>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button onClick={run} style={{ marginTop: 16 }}>\n          fetch\n        </Button>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:u.c,useState:i.useState,useMemo:i.useMemo,Button:a.a,Spin:o.a,useAPI:p},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhtY45olcJYoEoDsCiWOInPnJY0XMNCfJMnTJqJuncgEKArmKQhbnuR5MgwSIKIEHAj0kWYIGKGLxfFqJUFCeIrlRBkdd1haxfp6gXOo1xoHGiiqJoqNad1vHlojT30GZ9gAB9fdY-QOVDeBQmRux_fYABtABdDko5CmO_YD4Ag5wW3oDN83o-90iY6z8W32zroCD6cwXezhMoct8XGB4vjGrQVSZy2tmOZnfaM6l1iu_kKR69QA7K9rdibmZah7CgWJti2_m0I22Atqg_zAssSgZiuHq0tQ_aa91sBR2mveaykUfOKH83IdjGui_F8HdZLsvawpmj2E3Fd5Hv2tJEx6GzC_EAcBDLGSIqZcy4ZcAEC0BQYC-gGBqXtF0AAjgyFy9E5ShCIBAc0yDUEvhUggqYJk4CJCcnZHAHpiGkPIH6PkegBCI3Kg0aCA47A0wsH0buKJpwpBUhYdeZM4DfSuGKFB8ACANFUgQPh7B9aGygMI9gXhKDklQDIwUCQCiSNoAIVg8RFEGyIIEAQKlwZmAZsLXSPkIwCKuMw1hi18brCoU5CuNZ_DUImo4i-FhnRjBYZEaknsuhwBUawGAfMYDqC2AQbxvlXY1lweImxMwCA4E4UsAROABEfTgLfbOOAJh0AjB4shIS0bsOHhOeAYSYARhCR-Y-Qdj4fGiNNCM3R8bxKqdU6JkoOmNISXTIOMjhkcgLlHAAUs4HUAA5HA3CCgQDAIkFJsT84rkqXTORRs9ipLVu4eRBcLAaKnjObRGQ9HdyyacrR9CrkFyUOsQZsMsBiQRkjIhoCdIqQAUAoyLijIWUgdAoCehQLgTElBCm8xwxOUSAAGVsAQciRF7DxCgB4CU2xUXEVIrQXFYowC4rPGAA-tk6JunsvgoacE4B2EsPyDI3S-z9D0bQapUQ0AFCuIY4x40QoqXWP2NgWRjjzngryzB_KfKCscictlYryAeCuJ7OJrBKBcEWgHA2CRxq6qgEK2KiqOUolcMKKVRjmWyqNQq0VHKYhHgEPeS1Mr2Byv9NWYaaJJRCgjMq1V6rNWLHFXBIq7A-UZEWls_EtgQ5cubrOHymAw2jNjXAHAKb4LjSzYkNNEw41mvtMmiVeaVwFozY6jI94c2lvzQSD4HhxrKpkWY6sKJ17jXdiyiwOIlYjA-OSAQjKjz7AjBWwpTLnXoEGXTCdVbp0CvrXGroCaCjjQnbm1ttq-xhCIl2uJMa-0nAHeQIdI6YBjvnVO-8s6awTtXXbRN7BzQ-S1FkHA9URio3NOmhZpFhTbvldU-kR4D0VPLQ2otUw30fq_YDNNx7RiDvFMOplV6G0LtvWm5ZE0J3KujWLa9Tqa0-SQwOoiBAL0YbjcqpYD6M6JrvRYL-8hTGOThvaNAOjGHdB1Kk3JLKdkKKuMo1RSo36SHYIAejNABkKoAXCVADTmoANGVADmRoAGQjhUqLOSkC5uj9GuoyBJx47BAB28YAI-jAAhboAF9TAApaYAa-tABLnmYNtil5gRuEDMLtFCcDmpSPcEIqBEixyDVwFSDN6rr15Z58DXTU5Gs42OehvH2BilLgIVAAA1eIDJGCWAJusNuCUUiieEOJ9YGQhACEUWeAQVWZG51cIoywMjuYIm7pFmYMj-bRfXjIhdVwY0do3h5vrK4QmYO6p1tNcUKK9a6-sNjLmONvPhjARGYcpRvTJhpTSJCnKMDFPSZG40kQNmykFCaPm_MBaRCFtGASsFEUO6HZGYgzaYDuFcGFdBMDwqRS5HysczY5OtlcfjgjxqpxihyERo4y7ZagLlo7m2CteutlMKOZqCXrVHEnIWRESJZBe-lrLOWYAveOwQMQDYY1FZ5YaeIREC5tfnPNguPXRszALgNntNZhvs7FhNo8guEmzaIqL4ZZsRnrAZguh2REiV5anX7XI4ZIDOnQA2ZCCM0DZDvQzKgyEYMaSJRGEKBuMecCkQrmAZuTYwBedWCipLyUEDVRB2mRuaAfD6GGKYABqHyPUcNSN93Vl0PkHdpsfhlrxnvdbe7Sb0CPmYg-9TTUt6sShxV3Cd1bVALlhu2_RQkLFOwPdxZXEn8P_v2Dp5DyuEzgBQO0ACZpgBC6MAG-mgALNRXLh8dU7a_6EIwkhdQ-ffDYQx_FclGIx2C6ZNdgPm4BLEq0KXlMAxi1aq4-Yb8wRLjPYPTxKjOoD7qDnenPIWd0M3F50jSpfMXYsr2jumNeU914b2mkzgAgs0ADoKXevetM_eY-H-w-fOFgoBfux4d-U-tMX8Fgs-8-HsUEy-q-dW6-Eam-7A2-fq7Qd-B-rM7MxWVwiMZ-3QF-raSw1-wGDMwu9-FEj-5e2wL-fOJmgARgaACwmoAX3s0APk6uPrEhAeMIPmAT7vQXAcMottQXHDflbvzCXhiswZ7NdgFLdkFvdlXrTCZoAHYegAu_KACwcoAFjygAK_GAB7aoANURgAa8qAARtpZoAMt-gAOebV7yHISODG7NptA-5iHSIz6jhz5oyL5oFH7EEM4O4LTMbVKk6GioARiqH-b5I1iFKbCxGNYJ7mz978zuGZhPQ-Tv7QE0Aj7DxIGBGoEUIr5MykREHtwlan7n4ciRFSFDJRFPyNZposaJEWCtIEDtJr5HBaHZyZFuFeEwbPT5Gp5CExq6wlEL5lELLoFVbVEkF1EUENHtE1gIHiyx7mB9HrEy7Z5LCfZ5JyGF5JY6JXJ7aeIE4wBMHP4rilLkBXYUI3aHpix0HDEeF5EjGCHrH94ACEoOheByBsvYkcfx3KyeBRkxNcrgIwdsUw_McRFCJSahyc0cccjRqEYs_e4xdeuRE4HxhRwhFgJmgAV8pKbKaABZ2j3oADD_BhgAAPqKZd41xQETH6rYEXoCCsHcaXLxCXGuLxF5KZICbWw4C3LnL3K9j-ARrSpRo7q6wmaABBmo4YAH3RgAdv6ABhcrIocvEDSYAJhKgAG3mAAl0QyUyZ3jXP3hCYIewBdHsoIsCfIkUZXFaT4eNGQUROsSxtCOQcSTWCZoycyc0ZAaIVCSHKBnUpiSxmLJsU8rTFHICRmuKbppKVAMKfacJnzMhBstWPnoWKcdUkVooWXncbTEib5moa8QkiZoAExpgARtaABQcoAITWgADqaAB2xuYW8d8a6V_tiXwQmWKdpncucfEE6brP8f2cJqOebEqY4YAJDmfYg5M4NJzegAYC5NmWY8FBnrQRAzCSHmybF0w8n6ZQD8nkBlkvF7Hen7pTF-lSaAAvboAKXGgAC_GabNGIk-Yon-ZokhaYkxkTL8xpm5IDmaISnDlQDZkWC5mG7uDtZFlP4V7doxq4kug9naFSYTBCBjDuDQgYECB-Hu7IETRzEVF9Eb5b64WPis6wCEEhE1GkFM6rGX4yG5ku5koxJuIWDnlqFXB3ZxzpGHl9kilAlJl6ZXJTmHkpmnl7nDJXndDjlCUZqTm-kmaPmAA8Cq-cXMhGWZ-RHAHD-XscBnTNsfHgMebMhWnsHp6duevNJRsZnhMhOTqamXaUBSJSmZmVxNbmBaeRBewLmcZXTqESftjn-MfikAXKRduR-n0QXI1lcCFZmszCzjBbzONshFcI5SCVADaZdP2W5WBT9CBpNuwFcF0EVjzlOoNmLMNsckVUeLVXfo8tLuxqgAAk1NsK4GkP-KEq1doLoCBAYGBJUvwKgN6IyEgOwPwD8MWNUBkOaD-GSONWbPwOEgIPkNQPwFcPwCFDgDtSFDVOsPwOUOQP0EJZtZNSAJpOtHhLANCFgN6ItbnmzIkLmHkOuqaJKOaNNX8KWAddWPwAmudfwMCt1X9RYEdTALCn9uQBAPAOdTGvwB9aIBNfwAAHpbw4AAAcOAaUYNNY_AEkQNIAqNSYOAAATDtT1HjeDSAJgtgkkiiETejbtVjdTRdUjZaJEEzRjdjbjSAIti5n8j9bgLoJACkN1dQIBP1XAkNfwLQD6FkJtVNaaLQDgpqOaLMDMPwPIAoJ_EAA",mdxType:"Playground"},(function(){return Object(s.b)((function(){var e=p({url:"https://randomuser.me/api",manual:!0}),n=e.data,A=e.loading,t=(e.cancel,e.run),r=Object(i.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(s.b)("div",null,Object(s.b)(o.a,{spinning:A,mdxType:"Spin"},"email: ",r),Object(s.b)(a.a,{onClick:t,style:{marginTop:16},mdxType:"Button"},"fetch"))}),{mdxType:"Demo"})})),Object(s.b)("h3",{id:"\u8f6e\u8be2"},"\u8f6e\u8be2"),Object(s.b)(u.c,{__position:2,__code:"() => {\n  function Demo() {\n    const { data, loading, timer } = useAPI({\n      url: `https://randomuser.me/api`,\n      pollingInterval: 3000,\n    })\n    const email = useMemo(\n      () => (((data || {}).results || [])[0] || {}).email,\n      [data],\n    )\n    return (\n      <div>\n        <Spin spinning={loading}>email: {email}</Spin>\n        <Button.Group style={{ marginTop: 16 }}>\n          <Button onClick={timer.pause}>pause</Button>\n          <Button onClick={timer.stop}>stop</Button>\n          <Button onClick={timer.resume}>resume</Button>\n        </Button.Group>\n      </div>\n    )\n  }\n  return <Demo />\n}",__scope:{props:this?this.props:A,Playground:u.c,useState:i.useState,useMemo:i.useMemo,Button:a.a,Spin:o.a,useAPI:p},__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwdh5FdY12gPAAvP1-TtSDcjgGBnAILIljyGA9RgIhhzQo1ZXlM1cIg9goOvcIIlQJZnBmNBUPQhj3AIdBmPwuUhPQT04EkIjYElGSCESX0VVQPD1UImAAEFoIaAT3RkgRyEkCjtIaSRVGwUT1MDSU9MYxUwVQXQUWOU4sJIpT4HYbhWPWKIBGeVArnaAAGdgkxmLB2j3asZg7FgZ2CgAWSL2AANki6L1jAYCADFvWgRJgv4ZxDgRB1MBgoR-CWGjUEoOA4oRLLqxymhnAgLDLnYABGJKYvkRznKmTS5m89gIyg8gbCgdAw1QjlvLECboxkdgUU87hgGwjysXkLca2AaboDm4IADIzvGRJ5koZpjtm-buCeuUwGQyUBlQdp2AAfg2E6wwjRarnu07UEG6spBkKs3zMGF1MwMAwigKZAaWlaIdG5dqwsYBUe4ZbgBXCxXqc7tzC1ajKFRwnsZrCxhtY45olcJYoEoDsCiWGIjyONCfJMnTJqJuncgEKArmKQhbnuR5MgwSIKIEHAj0kWYIGKGKRZFwUEgKBo9AEVh4iuJMQrNzWtYW4X6eoFzqNcaBxooqiaKjWmtbx5aI299BmfYAAff3WPkDlQ3gUJkbsQP2AAbQAXQ5GOQrjgOg-AEOcHt6ALct2PfdIuOc5Ft9c66Ag-nMN3c4TKHrZFxgeL4xq0FUmctrZjmZ32rPxdYnv5CkRvUAO6va3Ym5qBwABxJCZnWxTYC2qD_MCyxKBmK4erS1D9rrrXGHHzi9lQewoFibYtu5jIcDiij9tvoipEP6gR9HseOOZahT_Py_-WvlF177QATMJ-H9h573rs_cwX8z47F_jzMO9Ijz7S6EgmAoCJ7gPdpbDBnFp6z1fvvHcsg64lxFuDLWZcK61gpjRdgm4VzyAobWSQmNoZmC_CAOAhljJEVMuZcMuACBaAoMBfQDA1L2i6AARwZC5eicpQhEAgOaGRciXwqUkVMEycBEhOTsjgD0Oi9HkD9HyA2iNyoNGggOOwNMLB9F7iiacKQVIWHXmTOA30rhilkfAAg-sXhuPYFEVAoR4jePYF4Sg5JUDBJ1mfGc-taCGwiVcMJRBAgCBUuDMwDMBa6R8hGDxVxrG2MWvjdYxinJVxrP4ExE0KmEPYM6MYNjIjUm9qgmJrAYBLC6OoLYBAmm-WwRYNR_jikzAIDgRxSwPE4A8R9OAZDc44AmHQCM9T9GoLRvYt-3SoC9IjKgj8ECQ4QI-NEaaEZuj41GW_CcMBBmSluWcsZNYQ7BLpiHIuMcABSzgdQADkcDOIKBAMAiQpnDMLiufZdNQnhN7gspF8Qi4WASXrA2RsUXTJvjExJKRkkZFxUXJQ6x3mwywGJBGSNtF8J0ipTh3CjLVKMhZIRIigJ6FAuBMSUEKbzHDE5RIAAZWwBByJEXsPEKAHgJTbGlcRUitBlVijAMqs8YAwBDP4go-yGihpwTgHYSwf8jj7P7GwLITyohoAKOkpRWTxohRUusa1RtaDHHnPBJ1mSMiuvdbFfoXrujkA8Fcb2IzWCUC4ItIOYSEjjSTVAYNmLQ22pRK4YU_qXU-TdY5DNNrvVXwEPePNgaC3psLKgZxoRJRCgjBGqNMa42LB9XBIqLTnUZEWgi_Etgw72tbrOHymAu3fMHXAHAE74LjTnYkKdEwh3ZvtOO31S6VwrpnWW-8C7N3LoJB8Dw40I3BNydWYB41PYPJrDieWIwPjkgEOao8-wIw7vWRa-87y6Zfr3Tkat27j1dBHQUcaX7F0XprQ_O5jS9krgfScJ95AX1vpgB-gDP70B_prF-sDDtR3sHND5LUWQcD1RGKjc006wWkWFDBotTy0E3pGQOr9a6phkYo1RwGU7kOjGfeKV9f8sPHsA3hiwkKJpfojf24W2Geb7p8oJp9RECAYfE0OiNXNQNZ1HVJ1C6x5A5McnDe0aAUmWO6DqaZyy71oqgJE6JsSlT0MkOwQA9GaADIVQAuEqAGnNQAaMqAHMjQAMhEesJdilJuLIkZKye5x47BAB28YAI-jAAhboAF9TAApaYAa-tABLnmYS9il5gtOEHPIphicA5pSPcEIqBEjxzbVwFSDN6rr3SeVtjezTPmZpepKzGQbPsDFOXAQqAABq8QGSMEsATdYHcEopCuK58UcT1gZCEAISJZ4BBbeCfnVwkTLDBLiE5ecnX17BLREFMrV31hlquAO4Bl2ZhTtQUo7q7W3srjg69pjYM-u0pgIjCOUo3pkw0ppXRTlGBinpMjcaSIGzZVuxGKrNW6tIia2jdpyjH7w7B2IC2mA7hXCFXQTAoqJUuR8vHC2SzbZXDs548a6cYoch8aOCuU2oAzcJ8jeb1YGYx2zWq9ao4U78yIiRLIcPufjd5_z8OguGwDsW46w08QiJFzOwiXu32i43de0XR7d66YvbuzMDFLHPsm-Fn9q35KLZfPWAzMtTsiIatmxagOuRwyQGdOgBsyEEZoGyHhhmVBkLcY0hqiMIVI-2zHKpWPFF4-ogZFS6sFFtW6tebegd0eaAfD6GGKYABqHyPUp0Opmb0PbLofKZ5gO9hXld2PC2L_XsvLoq-9Snb16sSgfV3GzzbOtUxr3S5gLKhICqdjRsQ7TbvpfG-Zn7zXlcSXACgdoAEzTACF0YAN9NAAWaiuGTn6LVr_Lwp7BZbr_HmAfxxhK4NMRjsPcya7AqtwCWJtoU6SMAYwu2W2j4wC8wIkHIrM7MS2VwiMUAREC0eGI-TWNaDMcGnus-cqC-2wS-9yRebQJeDe5e7Am-U6SWgAQWaAA6CsfmfrTBfvfsQfoLflrIwb3iXnBs_rTMwhYG_h_l7FBD_n_ntgAS0kAewCAU2u0HBpAdAZ3Mtlrggd0CHMgUsKgcxgzB9keJgXPvKoqngULnTEloAEYGgAsJq0Hn7NCX4IJME0AsEixsHr4zJaEwBcE_ImZqEJxoHJ4TjIQ6HYH6Ho6GKY5XDY4JzL5GGeaAB2HoALvygAsHKABY8oACvxgAe2qADVEYAGvKgAEbbpaADLfoADnmK4mhyEjgMeZ6hBPeThU6fBaMX-Qh7AGuiU4waIyhHIRmVC42hoqAQR1WAUKyws6ymw3Rh2ERlsF-N2pRmYT0Pkq-thwy5ulsNRn-ghhiv-TMpEchsBihiBKhU67hHyHR5gh2exVs2CVyBANy_-Rw-Bdc4xJRFR3kz0sx7B8xA6WsSxAh3-qxwhW2mxmu8BOxbRJxFgPBIshx0IIh2Swsruw-SwpOKy3hk-nAOK8Q0ODSM-uhOBtSFg2y5AE0GOfRne2CxRJ8DxMxFRD-NAJxF-AAhIznWsrO4MiqnOwDSXXpSa8XXK4CMA7FMDdj0Vsn0SyU1kZiCcLBfs8U4Y8T5BMRUfYVrEloAFfKgWQWgAWdqn6AAw_3EYAAD6AWx-dcjhJBPkrSVgFqBhyJMWqJMO5APRmOUBew9mtsBKusSSKJUAIQdg8WfaNaCpnmgAQZr5GAB90YAHb-gAYXIhJMnxAamACYSoABt5gAJdE6l6lH63FWHslzHsAXQOmeKMlhLxDyljGp4cnjQAmt51xoTziIFvEixJa6n6kfIWCGnHguFuGWyglincF_L0kzpYqumWlQDzKOkMlOb9LIRwrVjj61ouRdCLb-Hz76Eri2mEmjGRHsCABMaYAEbWgAUHKACE1oAA6mgAdsapFd4UkZlkHilWHdnOlEokqpJQAFl0y0lXlOYPk1n-n5GACQ5n2FFjOBqTvoAGAuu56WFhDZ8868rZWs7ZNYg2d5aJNSBJtWop_ElZ3Q1ZFgSWgAL26AClxoAAvxEWBxyEApmOwpCcSFoJFKtMMcN2g5OZvZxKbp45Fgk5Ue7g-uc5ehi-heRRp5LxpB1e5BnmEwQgYw7gEJW2r-o47-tRKxYKPxohJpkhAgj4eu842Qr4fxTRpZSBF6nhk5ueOqQy2J-JwRfRoRDWOONx2CF-V5dFt5uKr50mbpcFNpZF0IShnAVhdJQ5M6L5Cxq52FgAPAr4WlyEVVaCm1YkVAnQnMZ0zglcUfKSkkHnkfJP5kWD5dneW5nIo0XLLXnRakroq-FcQWkFVQDOWMXsCTngnq4wGa5i5_iNEpBFxXFXD1WZyQlFyHatWqp_iHa66sXzhG7IRXDPmRnulZk2U_n0X9k_S27aFXAzkwGm4WpPbCzAI24uE25wbO4mZmaoCcJNTbCuBpD_hwDUCAS6AgQGBgT7L8CoDeiMhIDsD8A_DFjVAZDmg_hkiPUWz8C9ICD5DUD8BXD8AhQ4Bg0hQ1TrD8DlDkD9BDnA3PUgCaTrR4SwDQhYDejfWj5syJC5h5AQamiSjmivV_ClhQ3Vj8AjqI38CcqnUU0WAw0wDCpU7kAQDwCI0Dr8BE2iBPX8AAB6W8OAAAHDgGlAzTWPwBJDTSAPzUmDgAAExg09QS2M0gBKIqITIogy2C3g0i2q1I082WiRA61C2i3i0gAmZFYspk24C6CQApCnXnXaCXXiI3X8C0A-hZDA0vWmi0CqKajmizAzD8DyAKBMJAA",mdxType:"Playground"},(function(){return Object(s.b)((function(){var e=p({url:"https://randomuser.me/api",pollingInterval:3e3}),n=e.data,A=e.loading,t=e.timer,r=Object(i.useMemo)((function(){return(((n||{}).results||[])[0]||{}).email}),[n]);return Object(s.b)("div",null,Object(s.b)(o.a,{spinning:A,mdxType:"Spin"},"email: ",r),Object(s.b)(a.a.Group,{style:{marginTop:16}},Object(s.b)(a.a,{onClick:t.pause,mdxType:"Button"},"pause"),Object(s.b)(a.a,{onClick:t.stop,mdxType:"Button"},"stop"),Object(s.b)(a.a,{onClick:t.resume,mdxType:"Button"},"resume")))}),{mdxType:"Demo"})})),Object(s.b)("h2",{id:"api"},"API"),Object(s.b)("pre",null,Object(s.b)("code",Object.assign({parentName:"pre"},{}),"\nconst { // \u8fd4\u56de\u6570\u636e\u540c useAsync\n  loading: boolean;\n  error?: Error;\n  data?: T;\n  cancel: () => void;\n  run: () => void;\n  timer: {\n    stop: () => void;\n    resume: () => void;\n    pause: () => void;\n  };\n} = useAPI(params)\n\nparams:(\n  url: string;\n  options: RequestInit;\n  manual: boolean;\n  pollingInterval: number;\n)\n")))}E&&E===Object(E)&&Object.isExtensible(E)&&Object.defineProperty(E,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useAPI/index.mdx"}}),E.isMDXComponent=!0},"./src/useAsync/index.ts":function(e,n,A){"use strict";A.d(n,"a",(function(){return m}));var t=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),o=A.n(t),a=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),i=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),u=A("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),c=A("react"),l=function e(n,A){var t=this;Object(u.a)(this,e),this.remaining=0,this.delay=0,this.cb=null,this.start=0,this.timerId=0,this.stop=function(){window.clearTimeout(t.timerId),t.timerId=0,t.remaining=t.delay},this.pause=function(){window.clearTimeout(t.timerId),t.remaining-=Date.now()-t.start},this.resume=function(){t.start=Date.now(),window.clearTimeout(t.timerId),t.cb&&(t.timerId=window.setTimeout(t.cb,t.remaining))},this.remaining=A,this.delay=A,this.start=A,this.timerId=A,this.cb=n};"undefined"!==typeof Options&&Options&&Options===Object(Options)&&Object.isExtensible(Options)&&Object.defineProperty(Options,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Options",filename:"src/useAsync/index.ts"}});var g=function(){};function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Object(c.useState)({loading:!1,cancel:g,run:g,timer:{stop:g,resume:g,pause:g}}),u=Object(s.a)(t,2),m=u[0],d=u[1],B=Object(c.useRef)(void 0),p=Object(c.useRef)(0),j=Object(c.useRef)(!0);Object(c.useEffect)((function(){return p.current+=1,j.current=!0,function(){p.current+=1}}),n);var C=Object(c.useCallback)((function(){p.current+=1,B.current&&B.current.stop(),d((function(e){return Object(i.a)({},e,{error:new Error("stopped"),loading:!1})}))}),[]),E=Object(c.useCallback)((function(){p.current+=1,B.current&&B.current.pause(),d((function(e){return Object(i.a)({},e,{error:new Error("paused"),loading:!1})}))}),[]),b=Object(c.useCallback)((function(){B.current&&B.current.resume()}),[]),I=Object(c.useCallback)((function(){var n=p.current;return d((function(e){return Object(i.a)({},e,{loading:!0})})),e.apply(void 0,arguments).then((function(e){return n===p.current&&d((function(n){return Object(i.a)({},n,{data:e,loading:!1})})),e})).catch((function(e){return n===p.current&&d((function(n){return Object(i.a)({},n,{error:e,loading:!1})})),e}))}),n),O=Object(c.useCallback)(Object(r.a)(o.a.mark((function e(){var n,t,r,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,t=new Array(n),r=0;r<n;r++)t[r]=s[r];if(i=p.current,A.manual&&j.current){e.next=5;break}return e.next=5,I.apply(void 0,Object(a.a)(t||[]));case 5:p.current===i&&(B.current=new l((function(){return O.apply(void 0,t)}),A.pollingInterval),j.current&&A.manual?j.current=!1:B.current.resume());case 6:case"end":return e.stop()}}),e)}))),[A.pollingInterval,A.manual,I]),w=Object(c.useCallback)((function(){p.current+=1;for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];A.pollingInterval?(A.manual||C(),O.apply(void 0,n)):I.apply(void 0,Object(a.a)(n||[]))}),[I,A.pollingInterval]),D=Object(c.useCallback)((function(){p.current+=1,d((function(e){return Object(i.a)({},e,{error:new Error("canceled"),loading:!1})}))}),[]);return Object(c.useEffect)((function(){if(A.pollingInterval)O();else if(!A.manual){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];I.apply(void 0,Object(a.a)(n||[]))}return function(){p.current+=1,C()}}),[A.manual,A.pollingInterval,I,O]),{loading:m.loading,error:m.error,data:m.data,cancel:D,run:A.manual&&A.pollingInterval?b:w,timer:{stop:C,resume:b,pause:E}}}"undefined"!==typeof ReturnValue&&ReturnValue&&ReturnValue===Object(ReturnValue)&&Object.isExtensible(ReturnValue)&&Object.defineProperty(ReturnValue,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ReturnValue",filename:"src/useAsync/index.ts"}}),m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAsync",filename:"src/useAsync/index.ts"}})}}]);